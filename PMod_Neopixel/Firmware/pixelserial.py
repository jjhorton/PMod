import numpy as np
import time
import serial

ser = serial.Serial('/dev/tty.usbserial-ib2u9O9Z1',19200)

print(ser.name)
print(ser.baudrate)

RGB_LOOKUP = [[255,14,240],[255,13,240],[255,12,240],[255,11,240], \
	[255,10,240],[255,9,240],[255,8,240],[255,7,240], \
	[255,6,240],[255,5,240],[255,4,240],[255,3,240], \
	[255,2,240],[255,1,240],[255,0,240],[255,0,224], \
	[255,0,208],[255,0,192],[255,0,176],[255,0,160], \
	[255,0,144],[255,0,128],[255,0,112],[255,0,96 ], \
	[255,0,80 ],[255,0,64 ],[255,0,48 ],[255,0,32 ], \
	[255,0,16 ],[255,0,0  ],[255,10,0 ],[255,20,0 ], \
	[255,30,0 ],[255,40,0 ],[255,50,0 ],[255,60,0 ], \
	[255,70,0 ],[255,80,0 ],[255,90,0 ],[255,100,0], \
	[255,110,0],[255,120,0],[255,130,0],[255,140,0], \
	[255,150,0],[255,160,0],[255,170,0],[255,180,0], \
	[255,190,0],[255,200,0],[255,210,0],[255,220,0], \
	[255,230,0],[255,240,0],[255,250,0],[253,255,0], \
	[215,255,0],[176,255,0],[138,255,0],[101,255,0], \
	[62,255,0 ],[23,255,0 ],[0,255,16 ],[0,255,54 ], \
	[0,255,92 ],[0,255,131],[0,255,168],[0,255,208], \
	[0,255,244],[0,228,255],[0,212,255],[0,196,255], \
	[0,180,255],[0,164,255],[0,148,255],[0,132,255], \
	[0,116,255],[0,100,255],[0,84,255 ],[0,68,255 ], \
	[0,50,255 ],[0,34,255 ],[0,18,255 ],[0,2,255  ], \
	[0,0,255  ],[1,0,255  ],[2,0,255  ],[3,0,255  ], \
	[4,0,255  ],[5,0,255 ]]

x = bytes(bytearray(range(256)))

for count in range(80):
	print("line: " + str(count) + " (RGB:" + str(RGB_LOOKUP[count][0])+","+ str(RGB_LOOKUP[count][1])+","+ str(RGB_LOOKUP[count][2]) + ")")
	
	for y in range(10):
		for x in range(10):
			offset = int(x)
			#print("offset: " + str(offset))
			packet = bytearray()
			packet.append(int(RGB_LOOKUP[count+offset][0]/8))
			packet.append(int(RGB_LOOKUP[count+offset][1]/8))
			packet.append(int(RGB_LOOKUP[count+offset][2]/8))
			ser.write(packet)
	
		time.sleep(0.1)

ser.close()


#ser = serial.Serial('/dev/tty.usbserial-ib2u9O9Z1',115200,timeout=1)

#ser.write(0b10000000)
#time.sleep(1)
#ser.write(0b00000000)

#ser.close()
